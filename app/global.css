@import "tailwindcss";
@import "fumadocs-ui/css/preset.css";

@source "../node_modules/fumadocs-ui/dist/**/*.js";
@source "../node_modules/fumadocs-openapi/dist/**/*.js";

/* 
  See `js-recall` (we'll want to import this, once the package is published): 
  https://github.com/recallnet/js-recall/blob/main/packages/ui/tailwind.config.ts 
*/
@theme {
  /* Font families */
  --font-sans: var(--font-sans), ui-sans-serif, system-ui, sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-mono: var(--font-mono), ui-monospace, SFMono-Regular, Menlo, Monaco,
    Consolas, "Liberation Mono", "Courier New", monospace;

  /* Colors */
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  /* Primary colors */
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  /* Secondary colors */
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  /* Other semantic colors */
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  /* Border radius */
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

/* 
  Custom colors (keeping this separate from the `js-recall` theme above) 
  See examples: https://github.com/fuma-nama/fumadocs/blob/d8e89d7f7b11c433265ced3e5e63714499d4c892/packages/ui/css/vitepress.css
  */
@theme {
  --color-fd-background: hsl(0, 0%, 98%);
  --color-fd-foreground: hsl(0, 0%, 3.9%);
  --color-fd-muted: hsl(0, 0%, 96.1%);
  --color-fd-muted-foreground: hsl(0, 0%, 45.1%);
  --color-fd-popover: hsl(0, 0%, 100%);
  --color-fd-popover-foreground: hsl(0, 0%, 15.1%);
  --color-fd-card: hsl(0, 0%, 99.7%);
  --color-fd-card-foreground: hsl(0, 0%, 3.9%);
  --color-fd-border: hsl(0, 0%, 89.8%);
  --color-fd-primary: hsl(259, 100%, 65%);
  --color-fd-primary-foreground: hsl(0, 0%, 98%);
  --color-fd-secondary: hsl(0, 0%, 96.1%);
  --color-fd-secondary-foreground: hsl(259, 100%, 65%);
  --color-fd-accent: hsl(0, 0%, 94.1%);
  --color-fd-accent-foreground: hsl(259, 100%, 65%);
  --color-fd-ring: hsl(0, 0%, 63.9%);
}

.dark {
  --color-fd-background: hsl(0, 0%, 2%);
  --color-fd-foreground: hsl(0, 0%, 98%);
  --color-fd-muted: hsl(0, 0%, 8%);
  --color-fd-muted-foreground: hsl(0, 0%, 60%);
  --color-fd-popover: hsl(0, 0%, 4%);
  --color-fd-popover-foreground: hsl(0, 0%, 98%);
  --color-fd-card: hsl(0, 0%, 4%);
  --color-fd-card-foreground: hsl(0, 0%, 98%);
  --color-fd-border: hsl(0, 0%, 14%);
  --color-fd-primary: hsl(0, 0%, 98%);
  --color-fd-primary-foreground: hsl(0, 0%, 9%);
  --color-fd-secondary: hsl(0, 0%, 12.9%);
  --color-fd-secondary-foreground: hsl(0, 0%, 98%);
  --color-fd-accent: hsl(0, 0%, 15%);
  --color-fd-accent-foreground: hsl(0, 0%, 100%);
  --color-fd-ring: hsl(0, 0%, 34.9%);
}

/* Custom styles */

/* Enforce slightly smaller font for code on all pages */
code {
  color: inherit;
  font-size: 0.875em;
}

button {
  cursor: pointer;
}

/* Hide elements based on the theme, such as the logo */
:root[class~="dark"] [data-hide-on-theme="dark"],
:root:not([class~="dark"]) [data-hide-on-theme="light"] {
  display: none;
}

/* Hide the "data-theme-toggle" buttons in the navbar */
header [data-theme-toggle] {
  display: none;
}

/* Hide the duplicate "data-theme-toggle" buttons in the sidebar footer only on small screens */
@media (max-width: 768px) {
  aside [data-theme-toggle]:not(:first-child) {
    display: none;
  }
}

/* Allow navbar items to float left or right, depending on if they're internal or external links */
#nd-subnav .flex-1 {
  display: flex !important;
  justify-content: space-between !important; /* External links go to end */
}

/* Create a flex container for internal links */
#nd-subnav .flex-1 > div {
  display: flex !important;
  gap: 1rem !important;
  margin-right: auto !important; /* Push to start */
}

/* External links container */
#nd-subnav .flex-1 > a[rel="noreferrer noopener"][target="_blank"] {
  margin-left: auto !important; /* Push to end */
}

/* External link spacing */
#nd-subnav
  a[rel="noreferrer noopener"][target="_blank"]:not(:has(svg)):last-child {
  margin-right: 1rem !important; /* Add some spacing prior to the Github & Twitter icons */
}

/* Ensure all external links stay together */
#nd-subnav
  .flex-1
  > a[rel="noreferrer noopener"][target="_blank"]
  ~ a[rel="noreferrer noopener"][target="_blank"] {
  margin-left: 0 !important; /* Remove auto margin from subsequent external links */
}

/* Adjust spacing between the sidebar title and the first item in the sidebar */
#nd-sidebar > div > div:nth-child(2) {
  margin-top: 1rem;
}
