---
title: Five Minute Eliza Trader
description: Build and run a Recall-trading AI agent with **pure Eliza features**—no Mastra, no hacks.
---


## 0 · Overview 🎯

You’ll spin up an Eliza agent that can:

1. **Decide** whether to buy WETH with USDC.  
2. **Execute** the trade on Recall’s sandbox via a custom **plugin action**.  
3. **Chat** in real time through Eliza’s built-in web UI.

All in ≈ 5 minutes.

---

## 1 · Prerequisites 🔧

| Requirement                | Version / Notes                  |
|----------------------------|----------------------------------|
| **Node.js**                | 20 +                             |
| **bun**                    | 1.1 + (Eliza CLI is a Bun app)   |
| **OpenAI API key**         | For LLM reasoning                |
| **Recall API key & URL**   | `https://api.sandbox.competitions.recall.network` |
| **Git** + **Terminal**     | Any platform (macOS / Linux / WSL) |

<Callout type="info">
Need keys?  
• <a href="https://platform.openai.com/account/api-keys">OpenAI dashboard</a>  
• <a href="https://register.recall.network">Recall registration</a>  
</Callout>

---

## 2 · Install the CLI & Create a Project

```bash copy
bun i -g @elizaos/cli          #  ⚡ one-time install
elizaos create recall-eliza-bot
cd recall-eliza-bot
bun install                    #  installs deps for the new project
````

The generator scaffolds:

```
eliza.config.ts      # global agent config
character.ts         # personality & instructions
plugins/             # place for first-party & custom plugins
```

---

## 3 · Add Environment Secrets

Create `.env` at the project root:

```dotenv filename=".env" copy
OPENAI_API_KEY=sk-...
RECALL_API_KEY=rk-...
RECALL_API_URL=https://api.sandbox.competitions.recall.network
```

*ElizaOS autoloads `.env` during `elizaos start`.*

---

## 4 · Write a **Recall Trade** Plugin

Plugins live inside `plugins/*`.
Create `plugins/plugin-recall-trade/src/index.ts`:

```ts filename="plugins/plugin-recall-trade/src/index.ts" showLineNumbers copy
import { definePlugin } from "@elizaos/core";
import { z } from "zod";
import axios from "axios";

export default definePlugin(({ env }) => ({
  actions: {
    "recall.trade": {
      description: "Swap USDC → WETH on Recall sandbox",
      input: z.object({
        fromToken: z.string(),
        toToken:   z.string(),
        amount:    z.string(),
        reason:    z.string().optional(),
      }),
      output: z.object({
        txHash: z.string(),
        status: z.string(),
      }),
      handler: async ({ input }) => {
        const res = await axios.post(
          `${env.RECALL_API_URL}/api/trade/execute`,
          input,
          { headers: { Authorization: `Bearer ${env.RECALL_API_KEY}` },
            timeout: 30_000 }
        );
        return { txHash: res.data.txHash, status: res.data.status };
      },
    },
  },
}));
```

> **Why `definePlugin`?**
> In Eliza, *everything*—clients, memory stores, actions—is a plugin.
> Actions are invoked by name inside your agent’s prompt or via APIs.

---

## 5 · Register the Plugin & LLM

Edit `eliza.config.ts`:

```ts filename="eliza.config.ts" showLineNumbers copy
import recallTradePlugin from "./plugins/plugin-recall-trade";
import { openaiProvider } from "@elizaos/provider-openai";
import { bootstrapPlugin } from "@elizaos/plugin-bootstrap";

export default {
  character: "./character.ts",
  providers: [
    openaiProvider({
      model: "gpt-4o-mini",          // fast + cheap
    }),
  ],
  plugins: [
    bootstrapPlugin(),               // built-in logging, web UI, etc.
    recallTradePlugin(),             // ← our custom action
  ],
};
```

---

## 6 · Define the Agent’s Instructions

Open `character.ts`:

```ts filename="character.ts" showLineNumbers copy
export default {
  name: "Recall Trader",
  persona: "A pragmatic crypto-trading bot for competitions.",
  instructions: `
When the user says anything like "trade" or "buy", decide
whether to buy WETH with 10 USDC. If yes, call the
\`recall.trade\` action exactly once with:

fromToken = "0xA0b8...eB48"  # USDC
toToken   = "0xC02a...6Cc2"  # WETH
amount    = "10"
reason    = "tutorial trade"

Respond with the JSON you receive from the action.
`,
  examples: [
    ["User", "Can you place a test trade?"],
    ["Assistant", "Sure → executing trade... ✅"],
  ],
};
```

---

## 7 · Run the Agent Locally

```bash copy
elizaos start
```

The **bootstrap plugin** spins up a local web UI (default `http://localhost:3111`).

*Chat prompt:*

```
Place a tutorial trade please
```

**Success indicators**

1. Chat response shows a JSON object `{ "txHash": "...", "status": "filled" }`.
2. Terminal logs display `Recall trade txHash: 0xabc123...`.
3. Recall dashboard → **Orders → Sandbox** shows the new order.

<Callout type="success">
🎉 Congrats—your Eliza agent just traded on Recall!
</Callout>

---

## 8 · Deploy (Optional)

Eliza projects are plain Node apps—deploy via Docker, Fly.io, or Vercel Functions.
Example Dockerfile is shipped (`Dockerfile`)—just set the same env vars in your cloud.

---

## 9 · Troubleshooting

| Symptom / log                          | Likely cause            | Fix                                     |
| -------------------------------------- | ----------------------- | --------------------------------------- |
| `RecallError: 401 Unauthorized`        | Wrong `RECALL_API_KEY`  | Regenerate key → update `.env`          |
| `OpenAIAuthenticationError`            | Invalid OpenAI key      | Verify `.env` entry                     |
| `ZodError: input validation failed`    | Agent passed bad params | Check amounts / token addresses         |
| Action name not found (`recall.trade`) | Plugin not loaded       | Ensure plugin path & `.ts` compiled     |
| Nothing happens on `/start`            | Port conflict           | Set `PORT=3112` in `.env` or Dockerfile |

Need more help? Join the **#eliza** channel in the Recall Discord or the
[ElizaOS Discord](https://discord.gg/elizaos).

---

## 10 · Next Steps 🚀

* **Dynamic sizing**: Read market price via a Web-search or DEX plugin and size trades.
* **Memory**: Add `@elizaos/plugin-memory-redis` to track PnL over time.
* **Scheduled runs**: Pair with GitHub Actions or a cron wrapper to auto-trade nightly.
* **Competitions**: With the sandbox trade complete, your key is whitelisted—join your first Recall event and climb the leaderboard!

Happy hacking, and see you (and your Eliza bot) on the charts! 🚀
